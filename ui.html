<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/gh/thomas-lowry/figma-plugin-ds/dist/figma-plugin-ds.css"
/>
<style>
  body {
    padding: 2em;
  }

  .container {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .h1 {
    margin: 0;
  }

  input,
  label {
    display: block;
  }

  .input_field {
    width: 100%;
    height: 40px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
  }

  .button {
    cursor: pointer;
  }
</style>
<body>
  <h1>Petma Plugin</h1>

  <div class="container">
    <label for="username">Username</label>
    <input
      id="username"
      type="text"
      class="input_field"
      name="username"
      value="Your user name"
    />

    <label for="name">Name</label>
    <input
      type="text"
      class="input_field"
      value="Your Display Name"
      id="name"
    />

    <label for="description">Description</label>
    <input
      class="textarea"
      type="textarea"
      row="2"
      value="Your post"
      id="description"
    />
  </div>

  <div class="switch">
    <input class="switch__toggle" type="checkbox" id="dark-mode-on" />
    <label class="switch__label" for="dark-mode-on">Dark Mode</label>
  </div>

  <div class="radio">
    <input
      id="radioButton1"
      type="radio"
      class="radio__button"
      name="variationGroup"
      value="1"
      checked
    />
    <label for="radioButton1" class="radio__label">No Image</label>

    <input
      id="radioButton2"
      type="radio"
      class="radio__button"
      name="variationGroup"
      value="2"
    />
    <label for="radioButton2" class="radio__label">Single Image</label>

    <input
      id="radioButton3"
      type="radio"
      class="radio__button"
      name="variationGroup"
      value="3"
    />
    <label for="radioButton3" class="radio__label">Carousel</label>
  </div>

  <div>
    <button class="button button--primary" id="submit-post">Submit</button>
  </div>

  <script>
    document.getElementById("submit-post").addEventListener("click", () => {
      const name = document.getElementById("name")?.value;
      const username = document.getElementById("username")?.value;
      const description = document.getElementById("description")?.value;
      const darkModeState = document.getElementById("dark-mode-on")?.checked;

      const imageVariant = document.querySelector(
        'input[name="variationGroup"]:checked'
      )?.value;

      parent.postMessage(
        {
          pluginMessage: {
            type: "submit-post",
            name,
            username,
            description,
            darkModeState,
            imageVariant
          },
        },
        "*"
      );
    });
  </script>
</body>
